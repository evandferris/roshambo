<html>
<body>
    <head>

    </head>
</body>
</html>

<script>



//global vars
let choices = ['Rock', "Paper", "Scissors"]
let gamesToWin = 3;
let playerWins = 0;
let cpuWins = 0; 
//game messages
let cpuWinRd = 'The Computer wins this round!';
let playerName = getPlayerName();
let playerWinRd = playerName + ',' + ' you win this round!';
let tieAlert = 'It\'s a tie! Pick again!';
let playerWinGm = 'Congratulations ' + playerName + '! You won the game!';
let cpuWinGm = 'Sorry ' + playerName + ', you lost - play again?';
let endGm = 'Thanks for playing, have a good day!';
let endGmJill = 'Thanks for playing baby, and thank you for your endless support and love <3';
let cpuWinGmJill = 'You may have lost against the computer but you won my heart'


startGame();

function startGame(){

    while (playerWins != gamesToWin && cpuWins != gamesToWin) {
        let playerSelection = userPlay();
        let computerSelection = computerPlay();

        playRound(playerSelection, computerSelection);
    }

    if (playerWins === gamesToWin && playerName == 'jill'){
        alert(endGmJill);
    } else if (playerWins === gamesToWin){
        alert(playerWinGm);
    }
    else if(cpuWins === gamesToWin && playerName == 'jill'){
        alert(cpuWinGmJill);
    }
    else if(cpuWins === gamesToWin){
        alert(cpuWinGm);
 
    }        
    if (playAgain()) {
        resetGame();
        startGame();
    } 
    else {
        alert(endGm);
    } 

}


function getPlayerName() {
    let playerName = prompt("Please enter your name").toLowerCase();
    if (playerName === 'jill'){
        alert ('Hi baby, I love you! -Evan');
        //Yeah yeah I know I'm whipped.
    } 
    else {     
    alert('Welcome, ' + playerName + ', please enjoy the game!');
    }

    return playerName;
}

function computerPlay(){       

    let play = choices[Math.floor(Math.random() * choices.length)].toLowerCase();
    return play;
}


function userPlay(){
    play = prompt("Please choose 'Rock', 'Paper', or 'Scissors'", "").toLowerCase();
    if (play == 'rock' || 'paper' || 'scissors'){
        alert('Invalid choice, try again')
        userPlay();
    }
    else{
        return play;
    }
 
}

function playRound(playerSelection, computerSelection){
    if (playerSelection === computerSelection){
        alert(tieAlert);
        return;
    }

    alert("You selected: " + playerSelection + " // Computer selected: " + computerSelection);
    
    if    (playerSelection == 'rock' && computerSelection == 'paper' 
        || playerSelection == 'paper' && computerSelection == 'scissors'
        || playerSelection == 'scissors' && computerSelection == 'rock') {
            
            cpuWins++;
            alert(cpuWinRd);
        } 
        else {
            playerWins++;
            alert(playerWinRd);
        }
}


function playAgain(){
    let play = prompt('Would you like to play again? | (Y/N)', '').toLowerCase();
    if (play == 'y'){
        return true;
    } else {
        return false;
    }
}

function resetGame(){
    playerWins = 0;
    cpuWins = 0;
}
</script>